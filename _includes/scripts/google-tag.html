<!-- Google Tag Manager -->
{% if jekyll.environment == "publish" %}
{% if site.google-tag_key == "Google Tag Manager key goes here" or site.google-tag_key == nil or site.google-tag_key == '' %}<!-- =========================================================================================
  YOU NEED TO PUT THE GOOGLE TAG KEY IN THE _config.yml FILE FOR THE <script> TO SHOW UP HERE!
  ============================================================================================ -->{% endif %}{% endif %}
{% if site.google-tag_key != "Google Tag Manager key goes here" and site.google-tag_key != nil and jekyll.environment != publish %}<!-- =========================================================================================
  GOOGLE TAG CODE will only show up if `jekyll.envrionment == publish` (only on the cloudcannon FTP site)
  if you ALREADY ENTERED THE GOOGLE TAG KEY in config.yml and it's still not showing on the live site...
  your jekyll.envrionment (FTP site's settings) is probably set to `production` and not `publish`
  IF YOU ARE ON LOCALHOST:#### IT WILL NOT SHOW UP AT ALL
  ============================================================================================ -->{% endif %}
{% if site.google-tag_key != "Google Tag Manager key goes here" and site.google-tag_key != nil and jekyll.environment == publish %}
<script>
  (function(w, d, s, l, i) {
    w[l] = w[l] || [];
    w[l].push({
      'gtm.start': new Date().getTime(),
      event: 'gtm.js'
    });
    var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s),
      dl = l != 'dataLayer' ? '&l=' + l : '';
    j.async = true;
    j.src =
      'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
    f.parentNode.insertBefore(j, f);
  })(window, document, 'script', 'dataLayer', '{{ site.google-tag_key }}');
</script>
{% endif %}
<!-- End Google Tag Manager -->
